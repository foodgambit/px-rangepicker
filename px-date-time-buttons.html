<link rel="import" href="../polymer/polymer.html"/>
<script src="../moment/moment.js"></script>


<!--
Date time button component.

##### Usage

    <px-date-time-button>
    </px-rangepicker-modal>
-->

<dom-module id="px-date-time-buttons">
  <link rel="import" type="css" href="css/px-date-time-buttons.css"/>
  <template>
    <button class="btn" on-click="_fireCancelEvent">Cancel</button>
    <button class$="{{submitBtnClasses('btn btn--primary', isSubmitButtonValid)}}"
            type=submit
            on-click="_fireSubmitEvent"
            id="submitButton"
            disabled="{{!isSubmitButtonValid}}">
    <i class$="{{displayOptions.submitButtonIcon}}"></i>{{displayOptions.submitButtonText}}</button>
  </template>
</dom-module>
<script>
  Polymer({

    is: 'px-date-time-buttons',

    behaviors: [pxDateTimeCommon, validate],

    properties: {
      /**
       * (optional)
       *
       * Display configuration that allows optional display patterns
       *
       *```
       * ```
       *
       * @default no presets
       */
      displayOptions: {
        type: Object,
        value: {
          displayType: 'normal',
          submitButtonText: 'Apply',
          submitButtonIcon: ''
        },
      },
    },
    observers: [
      '_submitButtonState(isSubmitButtonValid)'
    ],
    _fireCancelEvent:function(){
      console.log("cancel clicked");
      this.fire('date-time-button',{ action:false });
    },
    _fireSubmitEvent:function(){
      console.log("submit clicked");
      this.fire('date-time-button',{ action:true });
    },
    submitBtnClasses: function(base, submitButtonValid) {
      return (submitButtonValid) ? base : base + ' btn--disabled';
    },

  });
</script>
